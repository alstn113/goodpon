## 서비스 개요

- 이 시스템은 고객사의 커머스 서비스 내에서 쿠폰 서비스만 대행하는 B2B 서비스입니다.
- 전체 시스템은 Spring Kotlin 기반 멀티모듈 구조로 개발되고 있습니다.
- 메인 모듈은 다음과 같이 분리되어 있습니다:
  - partner-openapi: 가맹점(파트너) 백엔드 서버에서 사용할 API (ex. 쿠폰 발급, 사용 등)
  - dashboard-api: 가맹점 관리자들이 웹 대시보드에서 쿠폰과 상점 관리를 할 수 있는 API
- 두 모듈은 코드상으로도, 배포 주소로도 분리되어 있으며, 배포 주기도 서로 다를 수 있습니다.

## 사용자 흐름

### 1. 회원 가입 및 계정 활성화
  - [x] 회원가입 요청
  - [x] 이메일 인증 코드 발송
  - [x] 이메일 인증 요청
    - [x] 인증 코드 재발송
  - [x] 인증 완료 시 계정 활성화
    - [x] 계정 활성화 전에는 대시보드 내 주요 기능 접근 불가

### 2. 상점 관리
  - [ ] 내 상점 목록 조회 (최초에는 비어 있음)
  - [ ] 상점 생성 (요청 시 시크릿 키 자동 생성)
  - [ ] 상점 상세 정보 조회


### 3. 쿠폰 템플릿 관리
  - [ ] 쿠폰 템플릿 목록 조회 (최초에는 비어 있음)
  - [ ] 쿠폰 템플릿 생성 (초안 상태)
  - [ ] 쿠폰 템플릿 상세 조회
  - [ ] 쿠폰 템플릿 발행 (상태: draft → published)
 
### 4. 가맹점 백엔드(partner-openapi) 연동
  - [ ] 관리자(운영자)는 발급받은 시크릿 키를 가맹점 백엔드에 등록
  - [ ] 가맹점 서버에서 partner-openapi로 다음 요청 수행:
    - [ ] 쿠폰 조회
    - [ ] 쿠폰 발급 (동시성/트래픽 이슈 고려, 정책적으로 제한 존재)
    - [ ] 쿠폰 사용
    - [ ] 쿠폰 사용 취소

  > ※ 엔드유저(가맹점 고객)가 쿠폰을 실제로 조회/발급/사용하는 과정은 가맹점 서버와 partner-openapi 간 상호작용으로 처리됨
 
### 5. 쿠폰 이력 및 페이징 조회
  - [ ] 상점 전체 쿠폰 내역 조회 (대량 데이터, 페이징 필수)
  - [ ] 특정 쿠폰 템플릿별로 발급/사용/취소/만료 등 전체 이력 조회
  - [ ] userId 기준 사용자별 쿠폰 이력 조회
  - [ ] orderId 기준 주문별 쿠폰 이력 조회